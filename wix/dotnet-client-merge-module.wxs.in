<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2003/01/wi">
    <Module Id='DotNetClientModule' Guid='97DB49A3-B75E-4AE1-B01A-DFC8E335F866' Language='1033' Codepage='1252' Version='@VERSION@'>
        <Package Id='????????-????-????-????-????????????' Description='RabbitMQ .NET Client @VERSION@' Manufacturer='LShift Ltd.' InstallerVersion='150' Languages='1033' Compressed='yes' SummaryCodepage='1252' />

        <Directory Id='TARGETDIR' Name='SourceDir'>
            <!-- Note that RabbitMQ.Client.dll has to appear twice
                 (once for having it copied to Windows\assembly and once for
                 having it in our own bin folder).
                 This is a bug in WiX 2.0 and will be fixed in WiX 3.0
                 (i.e. will only have to be specified once, with Assembly='.net'
                 in order to be copied in both places). -->
            <Component Id='ClientLibraryAssembly' Guid='06543EE8-DED2-4C1C-826E-6AAE0B403AF3'>
                <File Id='RabbitMQClientDllAssembly' Name='RMQClnt.dll' LongName='RabbitMQ.Client.dll' Vital='yes' Assembly='.net' KeyPath='yes' Source='..\build\bin\RabbitMQ.Client.dll' />
            </Component>

            <Directory Id='BinFolder' Name='bin'>
                <Component Id='ClientLibraryBin' Guid='83A1DE00-CCB6-42C2-BD14-FBAEDDBC50E8'>
                    <CreateFolder />
                    <File Id='RabbitMQClientDllBin' Name='RMQClnt.dll' LongName='RabbitMQ.Client.dll' Vital='yes' KeyPath='yes' Source='..\build\bin\RabbitMQ.Client.dll' />
                    <Registry Id='RabbitMQAssemblyFolderReg' Action='createKeyAndRemoveKeyOnUninstall' Key='SOFTWARE\Microsoft\.NETFramework\AssemblyFolders\RabbitMQ' Root='HKLM'>
                        <Registry Id='RabbitMQAssemblyFolderRegVal' Action='write' Type='string' Value='[BinFolder]' />
                    </Registry>
                </Component>
            </Directory>

            <Directory Id='ExamplesFolder' Name='examples'>
                <Directory Id='BinExamplesFolder' Name='bin' FileSource='..\build\bin'>
                    <Component Id='ExampleBinaries' Guid='1C270D1C-CD79-49D8-9413-E6211F52B5A8'>
                        <File Id='AddClientExe' Name='AddClnt.exe' LongName='AddClient.exe' Vital='yes' />
                        <File Id='AddServerExe' Name='AddServ.exe' LongName='AddServer.exe' Vital='yes' />
                        <File Id='DeclareQueueExe' Name='DecQueue.exe' LongName='DeclareQueue.exe' Vital='yes' />
                        <File Id='ExceptionTestExe' Name='ExcnTest.exe' LongName='ExceptionTest.exe' Vital='yes' />
                        <File Id='LogTailExe' Name='LogTail.exe' LongName='LogTail.exe' Vital='yes' />
                        <File Id='LowlevelLogTailExe' Name='LLogTail.exe' LongName='LowlevelLogTail.exe' Vital='yes' />
                        <File Id='SendMapExe' Name='SendMap.exe' LongName='SendMap.exe' Vital='yes' />
                        <File Id='SendStringExe' Name='SendStr.exe' LongName='SendString.exe' Vital='yes' />
                        <File Id='SingleGetExe' Name='SnglGet.exe' LongName='SingleGet.exe' Vital='yes' />
                    </Component>
                </Directory>
                
                <Directory Id='SrcExamplesFolder' Name='src' FileSource='..\src\examples'>
                    <Component Id='ExampleSources' Guid='962896C3-D476-4C8E-B5F3-BE963D566A49'>
                        <File Id='AddClientCs' Name='AddClnt.cs' LongName='AddClient.cs' Vital='yes' />
                        <File Id='AddServerCs' Name='AddServ.cs' LongName='AddServer.cs' Vital='yes' />
                        <File Id='DeclareQueueCs' Name='DecQueue.cs' LongName='DeclareQueue.cs' Vital='yes' />
                        <File Id='ExceptionTestCs' Name='ExcnTest.cs' LongName='ExceptionTest.cs' Vital='yes' />
                        <File Id='LogTailCs' Name='LogTail.cs' LongName='LogTail.cs' Vital='yes' />
                        <File Id='LowlevelLogTailCs' Name='LLogTail.cs' LongName='LowlevelLogTail.cs' Vital='yes' />
                        <File Id='SendMapCs' Name='SendMap.cs' LongName='SendMap.cs' Vital='yes' />
                        <File Id='SendStringCs' Name='SendStr.cs' LongName='SendString.cs' Vital='yes' />
                        <File Id='SingleGetCs' Name='SnglGet.cs' LongName='SingleGet.cs' Vital='yes' />
                    </Component>
                </Directory>
                
                <Component Id='ExamplesShortcut' Guid='19A73961-DFC6-47BC-AC46-77B7562D7B91'>
                    <CreateFolder>
                        <Shortcut Id='ExamplesShortcut' Directory='DOTNET_CLIENT_MENU_DIR' Name='Examples' LongName='Examples folder' />
                    </CreateFolder>
                </Component>
            </Directory>

            <Directory Id='DocFolder' Name='doc'>
                <Directory Id='HtmlFolder' Name='html' FileSource='..\build\doc\html\'>
                    <Component Id='HtmlApiDocumentation' Guid='7B03679B-9677-4679-AE2B-1F70E7D92B45'>
                        <!--
                            The following was generated using
                                > tallow -d build\doc\html -dav

                            Source attributes were removed with a regex replace of:
                                 Source[=]["][^"]*?["]
                            with a space.

                            file0's shortcut was manually included afterwards.
                        -->
                        <File Id="file0" Name="INDEX_1.HTM" LongName="index.html" Vital="yes">
                            <Shortcut Id='HtmlApiDocShortcut' Directory='DOTNET_CLIENT_MENU_DIR' Name='HtmlDoc' LongName='Autogenerated API documentation (HTML)' />
                        </File>
                        <File Id="file1" Name="NAMESP_1.HTM" LongName="namespace-RabbitMQ.Client.Content.html" Vital="yes" />
                        <File Id="file2" Name="NAMESP_2.HTM" LongName="namespace-RabbitMQ.Client.Events.html" Vital="yes" />
                        <File Id="file3" Name="NAMESP_3.HTM" LongName="namespace-RabbitMQ.Client.Exceptions.html" Vital="yes" />
                        <File Id="file4" Name="NA19D7_1.HTM" LongName="namespace-RabbitMQ.Client.html" Vital="yes" />
                        <File Id="file5" Name="NAMESP_4.HTM" LongName="namespace-RabbitMQ.Client.MessagePatterns.html" Vital="yes" />
                        <File Id="file6" Name="NA712C_1.HTM" LongName="namespace-RabbitMQ.Util.html" Vital="yes" />
                        <File Id="file7" Name="style.css" Vital="yes" />
                        <File Id="file8" Name="TYPE-R_1.HTM" LongName="type-RabbitMQ.Client.AmqpTcpEndpoint.html" Vital="yes" />
                        <File Id="file9" Name="TYPE-R_2.HTM" LongName="type-RabbitMQ.Client.AmqpTimestamp.html" Vital="yes" />
                        <File Id="file10" Name="TYPE-R_3.HTM" LongName="type-RabbitMQ.Client.AmqpVersion.html" Vital="yes" />
                        <File Id="file11" Name="TYPE-R_4.HTM" LongName="type-RabbitMQ.Client.BasicGetResult.html" Vital="yes" />
                        <File Id="file12" Name="TY8B2A_1.HTM" LongName="type-RabbitMQ.Client.BinaryTableValue.html" Vital="yes" />
                        <File Id="file13" Name="TY4CC6_1.HTM" LongName="type-RabbitMQ.Client.ConnectionFactory.html" Vital="yes" />
                        <File Id="file14" Name="TY1373_1.HTM" LongName="type-RabbitMQ.Client.ConnectionParameters.html" Vital="yes" />
                        <File Id="file15" Name="TYA577_1.HTM" LongName="type-RabbitMQ.Client.Content.BasicMessageBuilder.html" Vital="yes" />
                        <File Id="file16" Name="TY8ED0_1.HTM" LongName="type-RabbitMQ.Client.Content.BasicMessageReader.html" Vital="yes" />
                        <File Id="file17" Name="TYC537_1.HTM" LongName="type-RabbitMQ.Client.Content.BytesMessageBuilder.html" Vital="yes" />
                        <File Id="file18" Name="TYCE50_1.HTM" LongName="type-RabbitMQ.Client.Content.BytesMessageReader.html" Vital="yes" />
                        <File Id="file19" Name="TYE5C7_1.HTM" LongName="type-RabbitMQ.Client.Content.BytesWireFormatting.html" Vital="yes" />
                        <File Id="file20" Name="TY23C6_1.HTM" LongName="type-RabbitMQ.Client.Content.IBytesMessageBuilder.html" Vital="yes" />
                        <File Id="file21" Name="TY2FF3_1.HTM" LongName="type-RabbitMQ.Client.Content.IBytesMessageReader.html" Vital="yes" />
                        <File Id="file22" Name="TY0A1F_1.HTM" LongName="type-RabbitMQ.Client.Content.IMapMessageBuilder.html" Vital="yes" />
                        <File Id="file23" Name="TY0654_1.HTM" LongName="type-RabbitMQ.Client.Content.IMapMessageReader.html" Vital="yes" />
                        <File Id="file24" Name="TY8ED6_1.HTM" LongName="type-RabbitMQ.Client.Content.IMessageBuilder.html" Vital="yes" />
                        <File Id="file25" Name="TY40BF_1.HTM" LongName="type-RabbitMQ.Client.Content.IMessageReader.html" Vital="yes" />
                        <File Id="file26" Name="TYE566_1.HTM" LongName="type-RabbitMQ.Client.Content.IStreamMessageBuilder.html" Vital="yes" />
                        <File Id="file27" Name="TY1FB6_1.HTM" LongName="type-RabbitMQ.Client.Content.IStreamMessageReader.html" Vital="yes" />
                        <File Id="file28" Name="TYDB65_1.HTM" LongName="type-RabbitMQ.Client.Content.MapMessageBuilder.html" Vital="yes" />
                        <File Id="file29" Name="TYFAC4_1.HTM" LongName="type-RabbitMQ.Client.Content.MapMessageReader.html" Vital="yes" />
                        <File Id="file30" Name="TYFBF5_1.HTM" LongName="type-RabbitMQ.Client.Content.MapWireFormatting.html" Vital="yes" />
                        <File Id="file31" Name="TY85CA_1.HTM" LongName="type-RabbitMQ.Client.Content.PrimitiveParser.html" Vital="yes" />
                        <File Id="file32" Name="TY27D6_1.HTM" LongName="type-RabbitMQ.Client.Content.StreamMessageBuilder.html" Vital="yes" />
                        <File Id="file33" Name="TY231C_1.HTM" LongName="type-RabbitMQ.Client.Content.StreamMessageReader.html" Vital="yes" />
                        <File Id="file34" Name="TY36BE_1.HTM" LongName="type-RabbitMQ.Client.Content.StreamWireFormatting.html" Vital="yes" />
                        <File Id="file35" Name="TYF60D_1.HTM" LongName="type-RabbitMQ.Client.Content.StreamWireFormattingTag.html" Vital="yes" />
                        <File Id="file36" Name="TYA185_1.HTM" LongName="type-RabbitMQ.Client.DefaultBasicConsumer.html" Vital="yes" />
                        <File Id="file37" Name="TY893F_1.HTM" LongName="type-RabbitMQ.Client.Events.BasicDeliverEventArgs.html" Vital="yes" />
                        <File Id="file38" Name="TY78D2_1.HTM" LongName="type-RabbitMQ.Client.Events.BasicDeliverEventHandler.html" Vital="yes" />
                        <File Id="file39" Name="TY618B_1.HTM" LongName="type-RabbitMQ.Client.Events.BasicReturnEventArgs.html" Vital="yes" />
                        <File Id="file40" Name="TY787E_1.HTM" LongName="type-RabbitMQ.Client.Events.BasicReturnEventHandler.html" Vital="yes" />
                        <File Id="file41" Name="TY2300_1.HTM" LongName="type-RabbitMQ.Client.Events.CallbackExceptionEventArgs.html" Vital="yes" />
                        <File Id="file42" Name="TY59B1_1.HTM" LongName="type-RabbitMQ.Client.Events.CallbackExceptionEventHandler.html" Vital="yes" />
                        <File Id="file43" Name="TY15CF_1.HTM" LongName="type-RabbitMQ.Client.Events.ConnectionShutdownEventHandler.html" Vital="yes" />
                        <File Id="file44" Name="TY75BB_1.HTM" LongName="type-RabbitMQ.Client.Events.ConsumerEventArgs.html" Vital="yes" />
                        <File Id="file45" Name="TY77FA_1.HTM" LongName="type-RabbitMQ.Client.Events.ConsumerEventHandler.html" Vital="yes" />
                        <File Id="file46" Name="TY7EBE_1.HTM" LongName="type-RabbitMQ.Client.Events.ConsumerShutdownEventHandler.html" Vital="yes" />
                        <File Id="file47" Name="TYF3AA_1.HTM" LongName="type-RabbitMQ.Client.Events.EventingBasicConsumer.html" Vital="yes" />
                        <File Id="file48" Name="TY1FF1_1.HTM" LongName="type-RabbitMQ.Client.Events.ModelShutdownEventHandler.html" Vital="yes" />
                        <File Id="file49" Name="TY4CBD_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.AlreadyClosedException.html" Vital="yes" />
                        <File Id="file50" Name="TY3804_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.BrokerUnreachableException.html" Vital="yes" />
                        <File Id="file51" Name="TYD747_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.ChannelAllocationException.html" Vital="yes" />
                        <File Id="file52" Name="TY37F2_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.OperationInterruptedException.html" Vital="yes" />
                        <File Id="file53" Name="TY1629_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.PacketNotRecognizedException.html" Vital="yes" />
                        <File Id="file54" Name="TYFABA_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.ProtocolVersionMismatchException.html" Vital="yes" />
                        <File Id="file55" Name="TY9FCD_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.UnexpectedMethodException.html" Vital="yes" />
                        <File Id="file56" Name="TY9BB8_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.UnsupportedMethodException.html" Vital="yes" />
                        <File Id="file57" Name="TY34C2_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.UnsupportedMethodFieldException.html" Vital="yes" />
                        <File Id="file58" Name="TYD827_1.HTM" LongName="type-RabbitMQ.Client.Exceptions.WireFormattingException.html" Vital="yes" />
                        <File Id="file59" Name="TYCFA8_1.HTM" LongName="type-RabbitMQ.Client.ExchangeType.html" Vital="yes" />
                        <File Id="file60" Name="TY883B_1.HTM" LongName="type-RabbitMQ.Client.IBasicConsumer.html" Vital="yes" />
                        <File Id="file61" Name="TYE88D_1.HTM" LongName="type-RabbitMQ.Client.IBasicProperties.html" Vital="yes" />
                        <File Id="file62" Name="TY2F04_1.HTM" LongName="type-RabbitMQ.Client.IConnection.html" Vital="yes" />
                        <File Id="file63" Name="TYDA15_1.HTM" LongName="type-RabbitMQ.Client.IContentHeader.html" Vital="yes" />
                        <File Id="file64" Name="TYFFA0_1.HTM" LongName="type-RabbitMQ.Client.IFileProperties.html" Vital="yes" />
                        <File Id="file65" Name="TY67B6_1.HTM" LongName="type-RabbitMQ.Client.IMethod.html" Vital="yes" />
                        <File Id="file66" Name="TY5225_1.HTM" LongName="type-RabbitMQ.Client.IModel.html" Vital="yes" />
                        <File Id="file67" Name="TY5785_1.HTM" LongName="type-RabbitMQ.Client.IProtocol.html" Vital="yes" />
                        <File Id="file68" Name="TYFC9E_1.HTM" LongName="type-RabbitMQ.Client.IStreamProperties.html" Vital="yes" />
                        <File Id="file69" Name="TYB6CD_1.HTM" LongName="type-RabbitMQ.Client.MessagePatterns.SimpleRpcClient.html" Vital="yes" />
                        <File Id="file70" Name="TYB540_1.HTM" LongName="type-RabbitMQ.Client.MessagePatterns.SimpleRpcServer.html" Vital="yes" />
                        <File Id="file71" Name="TY75DC_1.HTM" LongName="type-RabbitMQ.Client.MessagePatterns.Subscription.html" Vital="yes" />
                        <File Id="file72" Name="TY70EA_1.HTM" LongName="type-RabbitMQ.Client.Protocols.html" Vital="yes" />
                        <File Id="file73" Name="TYF3C1_1.HTM" LongName="type-RabbitMQ.Client.PublicationAddress.html" Vital="yes" />
                        <File Id="file74" Name="TY3DED_1.HTM" LongName="type-RabbitMQ.Client.QueueingBasicConsumer.html" Vital="yes" />
                        <File Id="file75" Name="TY39A0_1.HTM" LongName="type-RabbitMQ.Client.ShutdownEventArgs.html" Vital="yes" />
                        <File Id="file76" Name="TY3AD4_1.HTM" LongName="type-RabbitMQ.Client.ShutdownInitiator.html" Vital="yes" />
                        <File Id="file77" Name="TYA67C_1.HTM" LongName="type-RabbitMQ.Client.ShutdownReportEntry.html" Vital="yes" />
                        <File Id="file78" Name="TY177D_1.HTM" LongName="type-RabbitMQ.Util.BlockingCell.html" Vital="yes" />
                        <File Id="file79" Name="TYD6D5_1.HTM" LongName="type-RabbitMQ.Util.DebugUtil.html" Vital="yes" />
                        <File Id="file80" Name="TY4397_1.HTM" LongName="type-RabbitMQ.Util.Either.html" Vital="yes" />
                        <File Id="file81" Name="TY32A5_1.HTM" LongName="type-RabbitMQ.Util.EitherAlternative.html" Vital="yes" />
                        <File Id="file82" Name="TY3355_1.HTM" LongName="type-RabbitMQ.Util.NetworkBinaryReader.html" Vital="yes" />
                        <File Id="file83" Name="TYDDDB_1.HTM" LongName="type-RabbitMQ.Util.NetworkBinaryWriter.html" Vital="yes" />
                        <File Id="file84" Name="TYD1DA_1.HTM" LongName="type-RabbitMQ.Util.Semaphore.html" Vital="yes" />
                        <File Id="file85" Name="TYC72D_1.HTM" LongName="type-RabbitMQ.Util.SharedQueue.html" Vital="yes" />
                        <File Id="file86" Name="TY07F9_1.HTM" LongName="type-RabbitMQ.Util.XmlUtil.html" Vital="yes" />
                    </Component>
                </Directory>
                
                <Directory Id='PdfFolder' Name='pdf' FileSource='..\releases\rabbitmq-dotnet-client\v@VERSION@\'>
                    <Component Id='PdfApiDocumentation' Guid='018D0FDF-9B7F-4C44-9072-A1030336B076'>
                        <File Id='ApiGuidePdf' Name='apiguide.pdf' LongName='rabbitmq-dotnet-client-@VERSION@-api-guide.pdf' Vital='yes'>
                            <Shortcut Id='PdfApiDocShortcut' Directory='DOTNET_CLIENT_MENU_DIR' Name='ApiPdf' LongName='Autogenerated API documentation (PDF)' />
                        </File>
                    </Component>

                    <Component Id='UserGuide' Guid='A463E3B7-5E2F-4628-9019-6BA1A3277520'>
                        <File Id='UserGuidePdf' Name='usrguide.pdf' LongName='rabbitmq-dotnet-client-@VERSION@-user-guide.pdf' Vital='yes'>
                            <Shortcut Id='UserGuidePdfShortcut' Directory='DOTNET_CLIENT_MENU_DIR' Name='UsrGdPdf' LongName='User guide (PDF)' />
                        </File>
                    </Component>
                </Directory>
            </Directory>

            <Directory Id='ProgramMenuFolder' Name='PMenu'>
                <Directory Id='RabbitMQMenuFolder' Name='RabbitMQ'>
                    <Directory Id='DOTNET_CLIENT_MENU_DIR' Name='DNClient' LongName='DotNetClient' />
                </Directory>
            </Directory>
        </Directory>
    </Module>
</Wix>

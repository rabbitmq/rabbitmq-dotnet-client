<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Interface IConnection </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface IConnection ">
      
      <meta name="description" content="Main interface to an AMQP connection.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/rabbitmq/rabbitmq-dotnet-client/new/gh-pages/api/new?filename=RabbitMQ_Client_IConnection.md&amp;value=---%0Auid%3A%20RabbitMQ.Client.IConnection%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../projects/RabbitMQ.Client/icon.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="RabbitMQ.Client.IConnection">



  <h1 id="RabbitMQ_Client_IConnection" data-uid="RabbitMQ.Client.IConnection" class="text-break">
Interface IConnection  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L58"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="RabbitMQ.html">RabbitMQ</a>.<a class="xref" href="RabbitMQ.Client.html">Client</a></dd></dl>
  <dl><dt>Assembly</dt><dd>RabbitMQ.Client.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Main interface to an AMQP connection.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IConnection : INetworkConnection, IAsyncDisposable, IDisposable</code></pre>
  </div>







  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="RabbitMQ.Client.INetworkConnection.html#RabbitMQ_Client_INetworkConnection_LocalPort">INetworkConnection.LocalPort</a>
    </div>
    <div>
      <a class="xref" href="RabbitMQ.Client.INetworkConnection.html#RabbitMQ_Client_INetworkConnection_RemotePort">INetworkConnection.RemotePort</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.iasyncdisposable.disposeasync">IAsyncDisposable.DisposeAsync()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable.dispose">IDisposable.Dispose()</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="RabbitMQ.Client.IConnectionExtensions.html#RabbitMQ_Client_IConnectionExtensions_AbortAsync_RabbitMQ_Client_IConnection_">IConnectionExtensions.AbortAsync(IConnection)</a>
  </div>
  <div>
      <a class="xref" href="RabbitMQ.Client.IConnectionExtensions.html#RabbitMQ_Client_IConnectionExtensions_AbortAsync_RabbitMQ_Client_IConnection_System_TimeSpan_">IConnectionExtensions.AbortAsync(IConnection, TimeSpan)</a>
  </div>
  <div>
      <a class="xref" href="RabbitMQ.Client.IConnectionExtensions.html#RabbitMQ_Client_IConnectionExtensions_AbortAsync_RabbitMQ_Client_IConnection_System_UInt16_System_String_">IConnectionExtensions.AbortAsync(IConnection, ushort, string)</a>
  </div>
  <div>
      <a class="xref" href="RabbitMQ.Client.IConnectionExtensions.html#RabbitMQ_Client_IConnectionExtensions_AbortAsync_RabbitMQ_Client_IConnection_System_UInt16_System_String_System_TimeSpan_">IConnectionExtensions.AbortAsync(IConnection, ushort, string, TimeSpan)</a>
  </div>
  <div>
      <a class="xref" href="RabbitMQ.Client.IConnectionExtensions.html#RabbitMQ_Client_IConnectionExtensions_CloseAsync_RabbitMQ_Client_IConnection_System_Threading_CancellationToken_">IConnectionExtensions.CloseAsync(IConnection, CancellationToken)</a>
  </div>
  <div>
      <a class="xref" href="RabbitMQ.Client.IConnectionExtensions.html#RabbitMQ_Client_IConnectionExtensions_CloseAsync_RabbitMQ_Client_IConnection_System_TimeSpan_">IConnectionExtensions.CloseAsync(IConnection, TimeSpan)</a>
  </div>
  <div>
      <a class="xref" href="RabbitMQ.Client.IConnectionExtensions.html#RabbitMQ_Client_IConnectionExtensions_CloseAsync_RabbitMQ_Client_IConnection_System_UInt16_System_String_System_Threading_CancellationToken_">IConnectionExtensions.CloseAsync(IConnection, ushort, string, CancellationToken)</a>
  </div>
  <div>
      <a class="xref" href="RabbitMQ.Client.IConnectionExtensions.html#RabbitMQ_Client_IConnectionExtensions_CloseAsync_RabbitMQ_Client_IConnection_System_UInt16_System_String_System_TimeSpan_">IConnectionExtensions.CloseAsync(IConnection, ushort, string, TimeSpan)</a>
  </div>
  </dd></dl>



  <h2 id="RabbitMQ_Client_IConnection_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
Instances of <a class="xref" href="RabbitMQ.Client.IConnection.html">IConnection</a> are used to create fresh
sessions/channels. The <a class="xref" href="RabbitMQ.Client.ConnectionFactory.html">ConnectionFactory</a> class is used to
construct <a class="xref" href="RabbitMQ.Client.IConnection.html">IConnection</a> instances.
 Please see the documentation for ConnectionFactory for an example of usage.
 Alternatively, an API tutorial can be found in the User Guide.
</p>
<p>
Extends the <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a> and the <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.iasyncdisposable">IAsyncDisposable</a> interface, so that the "using"
statement can be used to scope the lifetime of a connection when
appropriate.
</p>
</div>


  <h2 class="section" id="properties">Properties
</h2>


  <a id="RabbitMQ_Client_IConnection_ChannelMax_" data-uid="RabbitMQ.Client.IConnection.ChannelMax*"></a>

  <h3 id="RabbitMQ_Client_IConnection_ChannelMax" data-uid="RabbitMQ.Client.IConnection.ChannelMax">
  ChannelMax
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L64"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>The maximum channel number this connection supports (0 if unlimited).
Usable channel numbers range from 1 to this number, inclusive.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">ushort ChannelMax { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.uint16">ushort</a></dt>
    <dd></dd>
  </dl>








  <a id="RabbitMQ_Client_IConnection_ClientProperties_" data-uid="RabbitMQ.Client.IConnection.ClientProperties*"></a>

  <h3 id="RabbitMQ_Client_IConnection_ClientProperties" data-uid="RabbitMQ.Client.IConnection.ClientProperties">
  ClientProperties
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L69"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>A copy of the client properties that has been sent to the server.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IDictionary&lt;string, object?&gt; ClientProperties { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.idictionary-2">IDictionary</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a>&gt;</dt>
    <dd></dd>
  </dl>








  <a id="RabbitMQ_Client_IConnection_ClientProvidedName_" data-uid="RabbitMQ.Client.IConnection.ClientProvidedName*"></a>

  <h3 id="RabbitMQ_Client_IConnection_ClientProvidedName" data-uid="RabbitMQ.Client.IConnection.ClientProvidedName">
  ClientProvidedName
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L135"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Application-specific connection name, will be displayed in the management UI
if RabbitMQ server supports it. This value doesn't have to be unique and cannot
be used as a connection identifier, e.g. in HTTP API requests.
This value is supposed to be human-readable.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">string? ClientProvidedName { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <a id="RabbitMQ_Client_IConnection_CloseReason_" data-uid="RabbitMQ.Client.IConnection.CloseReason*"></a>

  <h3 id="RabbitMQ_Client_IConnection_CloseReason" data-uid="RabbitMQ.Client.IConnection.CloseReason">
  CloseReason
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L89"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Returns null if the connection is still in a state
where it can be used, or the cause of its closure otherwise.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">ShutdownEventArgs? CloseReason { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.ShutdownEventArgs.html">ShutdownEventArgs</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="RabbitMQ_Client_IConnection_CloseReason_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Applications should use the ConnectionShutdown event to
avoid race conditions. The scenario to avoid is checking
<a class="xref" href="RabbitMQ.Client.IConnection.html#RabbitMQ_Client_IConnection_CloseReason">CloseReason</a>, seeing it is null (meaning the <a class="xref" href="RabbitMQ.Client.IConnection.html">IConnection</a>
was available for use at the time of the check), and
interpreting this mistakenly as a guarantee that the
<a class="xref" href="RabbitMQ.Client.IConnection.html">IConnection</a> will remain usable for a time. Instead, the
operation of interest should simply be attempted: if the
<a class="xref" href="RabbitMQ.Client.IConnection.html">IConnection</a> is not in a usable state, an exception will be
thrown (most likely <a class="xref" href="RabbitMQ.Client.Exceptions.OperationInterruptedException.html">OperationInterruptedException</a>, but may
vary depending on the particular operation being attempted).
</p>
</div>




  <a id="RabbitMQ_Client_IConnection_Endpoint_" data-uid="RabbitMQ.Client.IConnection.Endpoint*"></a>

  <h3 id="RabbitMQ_Client_IConnection_Endpoint" data-uid="RabbitMQ.Client.IConnection.Endpoint">
  Endpoint
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L94"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Retrieve the endpoint this connection is connected to.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">AmqpTcpEndpoint Endpoint { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.AmqpTcpEndpoint.html">AmqpTcpEndpoint</a></dt>
    <dd></dd>
  </dl>








  <a id="RabbitMQ_Client_IConnection_FrameMax_" data-uid="RabbitMQ.Client.IConnection.FrameMax*"></a>

  <h3 id="RabbitMQ_Client_IConnection_FrameMax" data-uid="RabbitMQ.Client.IConnection.FrameMax">
  FrameMax
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L99"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>The maximum frame size this connection supports (0 if unlimited).</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">uint FrameMax { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.uint32">uint</a></dt>
    <dd></dd>
  </dl>








  <a id="RabbitMQ_Client_IConnection_Heartbeat_" data-uid="RabbitMQ.Client.IConnection.Heartbeat*"></a>

  <h3 id="RabbitMQ_Client_IConnection_Heartbeat" data-uid="RabbitMQ.Client.IConnection.Heartbeat">
  Heartbeat
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L104"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>The current heartbeat setting for this connection (System.TimeSpan.Zero for disabled).</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">TimeSpan Heartbeat { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.timespan">TimeSpan</a></dt>
    <dd></dd>
  </dl>








  <a id="RabbitMQ_Client_IConnection_IsOpen_" data-uid="RabbitMQ.Client.IConnection.IsOpen*"></a>

  <h3 id="RabbitMQ_Client_IConnection_IsOpen" data-uid="RabbitMQ.Client.IConnection.IsOpen">
  IsOpen
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L110"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Returns true if the connection is still in a state where it can be used.
Identical to checking if <a class="xref" href="RabbitMQ.Client.IConnection.html#RabbitMQ_Client_IConnection_CloseReason">CloseReason</a> equal null.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool IsOpen { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>








  <a id="RabbitMQ_Client_IConnection_Protocol_" data-uid="RabbitMQ.Client.IConnection.Protocol*"></a>

  <h3 id="RabbitMQ_Client_IConnection_Protocol" data-uid="RabbitMQ.Client.IConnection.Protocol">
  Protocol
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L115"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>The <a class="xref" href="RabbitMQ.Client.IProtocol.html">IProtocol</a> this connection is using to communicate with its peer.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IProtocol Protocol { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.IProtocol.html">IProtocol</a></dt>
    <dd></dd>
  </dl>








  <a id="RabbitMQ_Client_IConnection_ServerProperties_" data-uid="RabbitMQ.Client.IConnection.ServerProperties*"></a>

  <h3 id="RabbitMQ_Client_IConnection_ServerProperties" data-uid="RabbitMQ.Client.IConnection.ServerProperties">
  ServerProperties
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L121"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>A dictionary of the server properties sent by the server while establishing the connection.
This typically includes the product name and version of the server.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IDictionary&lt;string, object?&gt;? ServerProperties { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.idictionary-2">IDictionary</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a>&gt;</dt>
    <dd></dd>
  </dl>








  <a id="RabbitMQ_Client_IConnection_ShutdownReport_" data-uid="RabbitMQ.Client.IConnection.ShutdownReport*"></a>

  <h3 id="RabbitMQ_Client_IConnection_ShutdownReport" data-uid="RabbitMQ.Client.IConnection.ShutdownReport">
  ShutdownReport
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L127"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Returns the list of <a class="xref" href="RabbitMQ.Client.ShutdownReportEntry.html">ShutdownReportEntry</a> objects that contain information
about any errors reported while closing the connection in the order they appeared</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IEnumerable&lt;ShutdownReportEntry&gt; ShutdownReport { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;<a class="xref" href="RabbitMQ.Client.ShutdownReportEntry.html">ShutdownReportEntry</a>&gt;</dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="RabbitMQ_Client_IConnection_CloseAsync_" data-uid="RabbitMQ.Client.IConnection.CloseAsync*"></a>

  <h3 id="RabbitMQ_Client_IConnection_CloseAsync_System_UInt16_System_String_System_TimeSpan_System_Boolean_System_Threading_CancellationToken_" data-uid="RabbitMQ.Client.IConnection.CloseAsync(System.UInt16,System.String,System.TimeSpan,System.Boolean,System.Threading.CancellationToken)">
  CloseAsync(ushort, string, TimeSpan, bool, CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L237"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Asynchronously close this connection and all its channels
and wait with a timeout for all the in-progress close operations to complete.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Task CloseAsync(ushort reasonCode, string reasonText, TimeSpan timeout, bool abort, CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>reasonCode</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.uint16">ushort</a></dt>
    <dd><p>The close code (See under &quot;Reply Codes&quot; in the AMQP 0-9-1 specification).</p>
</dd>
    <dt><code>reasonText</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>A message indicating the reason for closing the connection.</p>
</dd>
    <dt><code>timeout</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.timespan">TimeSpan</a></dt>
    <dd></dd>
    <dt><code>abort</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether or not this close is an abort (ignores certain exceptions).</p>
</dd>
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>Cancellation token</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task">Task</a></dt>
    <dd></dd>
  </dl>











  <a id="RabbitMQ_Client_IConnection_CreateChannelAsync_" data-uid="RabbitMQ.Client.IConnection.CreateChannelAsync*"></a>

  <h3 id="RabbitMQ_Client_IConnection_CreateChannelAsync_RabbitMQ_Client_CreateChannelOptions_System_Threading_CancellationToken_" data-uid="RabbitMQ.Client.IConnection.CreateChannelAsync(RabbitMQ.Client.CreateChannelOptions,System.Threading.CancellationToken)">
  CreateChannelAsync(CreateChannelOptions?, CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L247"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Asynchronously create and return a fresh channel, session, and channel.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Task&lt;IChannel&gt; CreateChannelAsync(CreateChannelOptions? options = null, CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>options</code> <a class="xref" href="RabbitMQ.Client.CreateChannelOptions.html">CreateChannelOptions</a></dt>
    <dd><p>The channel creation options.</p>
</dd>
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>Cancellation token</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="RabbitMQ.Client.IChannel.html">IChannel</a>&gt;</dt>
    <dd></dd>
  </dl>











  <a id="RabbitMQ_Client_IConnection_UpdateSecretAsync_" data-uid="RabbitMQ.Client.IConnection.UpdateSecretAsync*"></a>

  <h3 id="RabbitMQ_Client_IConnection_UpdateSecretAsync_System_String_System_String_System_Threading_CancellationToken_" data-uid="RabbitMQ.Client.IConnection.UpdateSecretAsync(System.String,System.String,System.Threading.CancellationToken)">
  UpdateSecretAsync(string, string, CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L225"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>This method updates the secret used to authenticate this connection.
It is used when secrets have an expiration date and need to be renewed,
like OAuth 2 tokens.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Task UpdateSecretAsync(string newSecret, string reason, CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>newSecret</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The new secret.</p>
</dd>
    <dt><code>reason</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The reason for the secret update.</p>
</dd>
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>Cancellation token</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task">Task</a></dt>
    <dd></dd>
  </dl>











  <h2 class="section" id="events">Events
</h2>



  <h3 id="RabbitMQ_Client_IConnection_CallbackExceptionAsync" data-uid="RabbitMQ.Client.IConnection.CallbackExceptionAsync">
  CallbackExceptionAsync
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L146"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Signalled when an exception occurs in a callback invoked by the connection.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">event AsyncEventHandler&lt;CallbackExceptionEventArgs&gt; CallbackExceptionAsync</code></pre>
  </div>






  <h4 class="section">Event Type</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.AsyncEventHandler-1.html">AsyncEventHandler</a>&lt;<a class="xref" href="RabbitMQ.Client.Events.CallbackExceptionEventArgs.html">CallbackExceptionEventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>



  <h4 class="section" id="RabbitMQ_Client_IConnection_CallbackExceptionAsync_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This event is signalled when a ConnectionShutdown handler
throws an exception. If, in future, more events appear on
<a class="xref" href="RabbitMQ.Client.IConnection.html">IConnection</a>, then this event will be signalled whenever one
of those event handlers throws an exception, as well.</p>
</div>





  <h3 id="RabbitMQ_Client_IConnection_ConnectionBlockedAsync" data-uid="RabbitMQ.Client.IConnection.ConnectionBlockedAsync">
  ConnectionBlockedAsync
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L210"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Raised when a connection is blocked by the AMQP broker.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">event AsyncEventHandler&lt;ConnectionBlockedEventArgs&gt; ConnectionBlockedAsync</code></pre>
  </div>






  <h4 class="section">Event Type</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.AsyncEventHandler-1.html">AsyncEventHandler</a>&lt;<a class="xref" href="RabbitMQ.Client.Events.ConnectionBlockedEventArgs.html">ConnectionBlockedEventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>








  <h3 id="RabbitMQ_Client_IConnection_ConnectionRecoveryErrorAsync" data-uid="RabbitMQ.Client.IConnection.ConnectionRecoveryErrorAsync">
  ConnectionRecoveryErrorAsync
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L173"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Raised when the connection recovery fails, e.g. because reconnection or topology
recovery failed.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">event AsyncEventHandler&lt;ConnectionRecoveryErrorEventArgs&gt; ConnectionRecoveryErrorAsync</code></pre>
  </div>






  <h4 class="section">Event Type</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.AsyncEventHandler-1.html">AsyncEventHandler</a>&lt;<a class="xref" href="RabbitMQ.Client.Events.ConnectionRecoveryErrorEventArgs.html">ConnectionRecoveryErrorEventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>



  <h4 class="section" id="RabbitMQ_Client_IConnection_ConnectionRecoveryErrorAsync_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This event will never fire for connections that disable automatic recovery.</p>
</div>





  <h3 id="RabbitMQ_Client_IConnection_ConnectionShutdownAsync" data-uid="RabbitMQ.Client.IConnection.ConnectionShutdownAsync">
  ConnectionShutdownAsync
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L156"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Raised when the connection is destroyed.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">event AsyncEventHandler&lt;ShutdownEventArgs&gt; ConnectionShutdownAsync</code></pre>
  </div>






  <h4 class="section">Event Type</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.AsyncEventHandler-1.html">AsyncEventHandler</a>&lt;<a class="xref" href="RabbitMQ.Client.Events.ShutdownEventArgs.html">ShutdownEventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>



  <h4 class="section" id="RabbitMQ_Client_IConnection_ConnectionShutdownAsync_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>If the connection is already destroyed at the time an
event handler is added to this event, the event handler
will be fired immediately.</p>
</div>





  <h3 id="RabbitMQ_Client_IConnection_ConnectionUnblockedAsync" data-uid="RabbitMQ.Client.IConnection.ConnectionUnblockedAsync">
  ConnectionUnblockedAsync
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L215"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Raised when a connection is unblocked by the AMQP broker.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">event AsyncEventHandler&lt;AsyncEventArgs&gt; ConnectionUnblockedAsync</code></pre>
  </div>






  <h4 class="section">Event Type</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.AsyncEventHandler-1.html">AsyncEventHandler</a>&lt;<a class="xref" href="RabbitMQ.Client.Events.AsyncEventArgs.html">AsyncEventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>








  <h3 id="RabbitMQ_Client_IConnection_ConsumerTagChangeAfterRecoveryAsync" data-uid="RabbitMQ.Client.IConnection.ConsumerTagChangeAfterRecoveryAsync">
  ConsumerTagChangeAfterRecoveryAsync
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L183"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Raised when the server-generated tag of a consumer registered on this connection changes during
connection recovery. This allows applications that need to be aware of server-generated
consumer tag values to keep track of the changes.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">event AsyncEventHandler&lt;ConsumerTagChangedAfterRecoveryEventArgs&gt; ConsumerTagChangeAfterRecoveryAsync</code></pre>
  </div>






  <h4 class="section">Event Type</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.AsyncEventHandler-1.html">AsyncEventHandler</a>&lt;<a class="xref" href="RabbitMQ.Client.Events.ConsumerTagChangedAfterRecoveryEventArgs.html">ConsumerTagChangedAfterRecoveryEventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>



  <h4 class="section" id="RabbitMQ_Client_IConnection_ConsumerTagChangeAfterRecoveryAsync_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This event will never fire for connections that disable automatic recovery.</p>
</div>





  <h3 id="RabbitMQ_Client_IConnection_QueueNameChangedAfterRecoveryAsync" data-uid="RabbitMQ.Client.IConnection.QueueNameChangedAfterRecoveryAsync">
  QueueNameChangedAfterRecoveryAsync
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L193"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Raised when the name of a server-named queue declared on this connection changes during
connection recovery. This allows applications that need to be aware of server-named
queue names to keep track of the changes.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">event AsyncEventHandler&lt;QueueNameChangedAfterRecoveryEventArgs&gt; QueueNameChangedAfterRecoveryAsync</code></pre>
  </div>






  <h4 class="section">Event Type</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.AsyncEventHandler-1.html">AsyncEventHandler</a>&lt;<a class="xref" href="RabbitMQ.Client.Events.QueueNameChangedAfterRecoveryEventArgs.html">QueueNameChangedAfterRecoveryEventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>



  <h4 class="section" id="RabbitMQ_Client_IConnection_QueueNameChangedAfterRecoveryAsync_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This event will never fire for connections that disable automatic recovery.</p>
</div>





  <h3 id="RabbitMQ_Client_IConnection_RecoveringConsumerAsync" data-uid="RabbitMQ.Client.IConnection.RecoveringConsumerAsync">
  RecoveringConsumerAsync
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L205"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Raised when a consumer is about to be recovered. This event raises when topology recovery
is enabled, and just before the consumer is recovered. This allows applications to update
the consumer arguments before the consumer is recovered. It could be particularly useful
when consuming from a stream queue, as it allows to update the consumer offset argument
just before the consumer is recovered.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">event AsyncEventHandler&lt;RecoveringConsumerEventArgs&gt; RecoveringConsumerAsync</code></pre>
  </div>






  <h4 class="section">Event Type</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.AsyncEventHandler-1.html">AsyncEventHandler</a>&lt;<a class="xref" href="RabbitMQ.Client.Events.RecoveringConsumerEventArgs.html">RecoveringConsumerEventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>



  <h4 class="section" id="RabbitMQ_Client_IConnection_RecoveringConsumerAsync_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This event will never fire for connections that disable automatic recovery.</p>
</div>





  <h3 id="RabbitMQ_Client_IConnection_RecoverySucceededAsync" data-uid="RabbitMQ.Client.IConnection.RecoverySucceededAsync">
  RecoverySucceededAsync
  <a class="header-action link-secondary" title="View source" href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L164"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Raised when the connection completes recovery.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">event AsyncEventHandler&lt;AsyncEventArgs&gt; RecoverySucceededAsync</code></pre>
  </div>






  <h4 class="section">Event Type</h4>
  <dl class="parameters">
    <dt><a class="xref" href="RabbitMQ.Client.Events.AsyncEventHandler-1.html">AsyncEventHandler</a>&lt;<a class="xref" href="RabbitMQ.Client.Events.AsyncEventArgs.html">AsyncEventArgs</a>&gt;</dt>
    <dd></dd>
  </dl>



  <h4 class="section" id="RabbitMQ_Client_IConnection_RecoverySucceededAsync_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This event will never fire for connections that disable automatic recovery.</p>
</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/IConnection.cs/#L58" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
